<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Olympic Form</title>
    <style>
        @font-face {
            font-family: 'Paris2024';
            src: url('Paris2024-Variable.ttf') format('truetype');
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: #000;
            color: #fff;
            font-family: Arial, sans-serif;
            overflow-x: hidden;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            font-family: 'Paris2024', sans-serif;
            font-size: 36px;
        }

        .video-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px; /* Space between videos */
            width: 100%;
            height: 80vh; /* Adjust height as needed */
            overflow: hidden;
        }

        .video-container video {
            border: none;
        }

        .newline {
            width: 100%;
            height: 0; /* Creates vertical space */
        }

        input[type="text"] {
            position: absolute;
            top: -100px;
            opacity: 0;
        }
    </style>
</head>
<body>
    <h1>Olympic Form</h1>
    <input type="text" id="hiddenInput" autofocus />
    <div class="video-container" id="videoContainer"></div>

    <script>
        const videoFiles = {
            '_': ['__cropped.mp4'],
            '~': ['~_cropped.mp4'],
            'a': ['a_cropped.mp4'],
            'b': ['b_2_cropped.mp4', 'b_cropped.mp4'],
            'c': ['c_2_cropped.mp4', 'c_cropped.mp4'],
            'd': ['d_2_cropped.mp4', 'd_cropped.mp4'],
            'e': ['e_cropped.mp4'],
            'f': ['f_cropped.mp4'],
            'g': ['g_cropped.mp4'],
            'h': ['h_2_cropped.mp4', 'h_cropped.mp4'],
            'i': ['i_2_cropped.mp4', 'i_cropped.mp4'],
            'j': ['j_cropped.mp4'],
            'k': ['k_cropped.mp4'],
            'l': ['l_2_cropped.mp4', 'l_cropped.mp4'],
            'm': ['m_cropped.mp4'],
            'n': ['n_cropped.mp4'],
            'o': ['o_cropped.mp4'],
            'p': ['p_cropped.mp4'],
            'q': ['q_2_cropped.mp4', 'q_cropped.mp4'],
            'r': ['r_2_cropped.mp4', 'r_cropped.mp4'],
            's': ['s_2_cropped.mp4', 's_cropped.mp4'],
            't': ['t_cropped.mp4'],
            'u': ['u_2_cropped.mp4', 'u_cropped.mp4'],
            'v': ['v_2_cropped.mp4', 'v_cropped.mp4'],
            'w': ['w_cropped.mp4'],
            'x': ['x_2_cropped.mp4', 'x_cropped.mp4'],
            'y': ['y_2_cropped.mp4', 'y_cropped.mp4'],
            'z': ['z_cropped.mp4']
        };

        const videoContainer = document.getElementById('videoContainer');
        const hiddenInput = document.getElementById('hiddenInput');

        // Focus the input field on page load
        hiddenInput.focus();

        document.addEventListener('keydown', function(event) {
            const key = event.key.toLowerCase();

            if (videoFiles[key]) {
                const videos = videoFiles[key];
                const randomVideo = videos[Math.floor(Math.random() * videos.length)];
                const videoElement = document.createElement('video');
                videoElement.src = randomVideo;
                videoElement.autoplay = true;
                videoElement.controls = false;
                videoElement.loop = false;
                videoElement.muted = true; // Mute video to prevent fullscreen on mobile
                videoElement.playsinline = true; // Prevents fullscreen on iOS
                videoContainer.appendChild(videoElement);
                adjustVideoSizes(); // Adjust sizes when a new video is added
            } else if (event.key === ' ') {
                const newlineElement = document.createElement('div');
                newlineElement.className = 'newline';
                videoContainer.appendChild(newlineElement);
            } else if (event.key === 'Enter') {
                const newlineElement = document.createElement('div');
                newlineElement.className = 'newline';
                videoContainer.appendChild(newlineElement);
            }
        });

        document.addEventListener('keydown', function(event) {
            if (event.key === 'Backspace') {
                if (videoContainer.lastChild) {
                    videoContainer.removeChild(videoContainer.lastChild);
                    adjustVideoSizes(); // Adjust sizes when a video is removed
                }
            }
        });

        // Function to adjust video sizes based on the number of videos
        function adjustVideoSizes() {
            const videos = videoContainer.querySelectorAll('video');
            const containerWidth = videoContainer.clientWidth;
            const containerHeight = videoContainer.clientHeight;

            const videoCount = videos.length;
            const baseSize = Math.min(containerWidth, containerHeight) ;
            const sizeStep = Math.max(200, baseSize / Math.ceil(Math.sqrt(videoCount)));

            videos.forEach((video) => {
                video.style.width = `${sizeStep}px`;
                video.style.height = `${sizeStep}px`;
            });
        }

        // Re-focus the input field if it loses focus (e.g., on mobile)
        hiddenInput.addEventListener('blur', function() {
            setTimeout(() => {
                hiddenInput.focus();
            }, 0);
        });

        // Scroll to bottom on page load
        window.onload = function() {
            window.scrollTo(0, document.body.scrollHeight);
        };
    </script>
</body>
</html>
